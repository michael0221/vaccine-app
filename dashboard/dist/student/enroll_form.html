<div class="section section-padding">
    <div class="container">
    <form id="kt_ecommerce_edit_order_form" class="form d-flex flex-column flex-lg-row" data-kt-redirect="../../demo11/dist/apps/ecommerce/sales/listing.html">
        <!--begin::Aside column-->
        <div class="w-100 flex-lg-row-auto w-lg-300px mb-7 me-7 me-lg-10">
            <!--begin::Order details-->
            <div class="card card-flush py-4" data-select2-id="select2-data-126-dlt7">
                <!--begin::Card header-->
                <div class="card-header">
                    <div class="card-title">
                        <h2 id="course_name">Order Details</h2>
                    </div>
                </div>
                <!--end::Card header-->
                <!--begin::Card body-->
                <div class="card-body pt-0" data-select2-id="select2-data-125-xo7q">
                    <div class="d-flex flex-column gap-10" data-select2-id="select2-data-124-7n0o">
                        <!--begin::Input group-->
                        <div class="fv-row">
                            <!--begin::Label-->
                            <label class="form-label">Order ID</label>
                            <!--end::Label-->
                            <!--begin::Auto-generated ID-->
                            <div class="fw-bolder fs-3">#13762</div>
                            <!--end::Input-->
                        </div>
                        <!--end::Input group-->
                        <!--begin::Input group-->
                        
                        <!--end::Input group-->
                        <!--begin::Input group-->
                        
                        <!--end::Input group-->
                        <!--begin::Input group-->
                        <div class="fv-row">
                            <!--begin::Label-->
                            <label class="required form-label">Order Date</label>
                            <!--end::Label-->
                            <!--begin::Editor-->
                            <input id="kt_ecommerce_edit_order_date" name="order_date" placeholder="Select a date" class="form-control mb-2" value="">
                            <!--end::Editor-->
                            <!--begin::Description-->
                            <div class="text-muted fs-7">Set the date of the order to process.</div>
                            <!--end::Description-->
                        </div>
                        <!--end::Input group-->
                    </div>
                </div>
                <!--end::Card header-->
            </div>
            <!--end::Order details-->
        </div>
        <!--end::Aside column-->
        <!--begin::Main column-->
        <div class="d-flex flex-column flex-lg-row-fluid gap-7 gap-lg-10">
            <!--begin::Order details-->
            <div class="card card-flush py-4">
                <!--begin::Card header-->
                <div class="card-header">
                    <div class="card-title">
                        <h2>Selected Course(s)</h2>
                    </div>
                </div>
                <!--end::Card header-->
                <!--begin::Card body-->
                <div class="card-body pt-0">
                    <div class="d-flex flex-column gap-10">
                        <!--begin::Input group-->
                        
                        <!--end::Input group-->
                        <!--begin::Separator-->
                        <div class="separator"></div>
                        <!--end::Separator-->
                        <!--begin::Search products-->
                        
                        <!--end::Search products-->
                        <!--begin::Table-->
                        <table class="table align-middle table-row-dashed fs-6 gy-5" id="kt_ecommerce_edit_order_product_table">
                            <!--begin::Table head-->
                            <thead>
                                <tr class="text-start text-gray-400 fw-bolder fs-7 text-uppercase gs-0">
                                    
                                    <th class="min-w-200px">Course(s)</th>
                                    <th class="min-w-100px text-end pe-5">Amount</th>
                                </tr>
                            </thead>
                            <!--end::Table head-->
                            <!--begin::Table body-->
                            <tbody class="fw-bold text-gray-600">
                                <!--begin::Table row-->
                                <tr>                                    
                                    <!--begin::Product=-->
                                    <td>
                                        <div class="d-flex align-items-center" data-kt-ecommerce-edit-order-filter="product" data-kt-ecommerce-edit-order-id="product_1">
                                            <!--begin::Thumbnail-->
                                            <a href="../../demo11/dist/apps/ecommerce/catalog/edit-product.html" class="symbol symbol-50px">
                                                <span class="symbol-label" style="background-image:url(assets/media//stock/ecommerce/1.gif);"></span>
                                            </a>
                                            <!--end::Thumbnail-->
                                            <div class="ms-5">
                                                <!--begin::Title-->
                                                <a href="../../demo11/dist/apps/ecommerce/catalog/edit-product.html" class="text-gray-800 text-hover-primary fs-5 fw-bolder" id="course_title"></a>
                                                <!--end::Title-->
                                                <!--begin::Price-->
                                                
                                                <!--end::Price-->
                                                <!--begin::SKU-->
                                                <div class="text-muted fs-7" id="course_code"></div>
                                                <!--end::SKU-->
                                            </div>
                                        </div>
                                    </td>
                                    <!--end::Product=-->
                                    <!--begin::Qty=-->
                                    <td class="text-end pe-5" data-order="44">
                                        <span class="fw-bolder ms-3" id="course_amount">44</span>
                                    </td>
                                    <!--end::Qty=-->
                                </tr>
                                <!--end::Table row-->
                                <!--begin::Table row-->
                                
                                <!--end::Table row-->
                                <!--begin::Table row-->
                                
                                <!--end::Table row-->
                                <!--begin::Table row-->
                                
                                <!--end::Table row-->
                                <!--begin::Table row-->
                                
                                <!--end::Table row-->
                                <!--begin::Table row-->
                                
                                <!--end::Table row-->
                                <!--begin::Table row-->
                                
                                <!--end::Table row-->
                            </tbody>
                            <!--end::Table body-->
                        </table>
                        <!--end::Table-->
                    </div>
                </div>
                <!--end::Card header-->
            </div>
            <!--end::Order details-->
            <!--begin::Order details-->
            
            <!--end::Order details-->
            <div class="d-flex justify-content-end">
                <!--begin::Button-->
                <a href="../../demo11/dist/apps/ecommerce/catalog/products.html" id="kt_ecommerce_edit_order_cancel" class="btn btn-light me-5">Cancel</a>
                <!--end::Button-->
                <!--begin::Button-->
                <button type="button" id="kt_ecommerce_edit_order_submit" class="btn btn-primary">
                    <span class="indicator-label">Continue</span>
                    <span class="indicator-progress">Please wait...
                    <span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
                </button>
                <!--end::Button-->
            </div>
        </div>
        <!--end::Main column-->
    </form>
</div>
</div>
<script>
populateDataFunctionsCourses();
// Get data and populate input
function populateDataFunctionsCourses(action_name = "get_this_course") {
    
    var course_id = getItem("courseId");

    if (course_id != "") {

        blockUI.block();
        return dopost({
            url: api_link + "/route/courses.php",
            data: {
                userid: getItem("userid"),
                sessionid: getItem("sessionid"),
                course_code: getItem("courseId"),
                action: action_name,
            },
            type: "POST",
            success: function(response) {
                try {
                    var json = JSON.parse(response);
                    var data = json.data;
                    if (json.statuscode == 0) {
                        blockUI.release();
                        var c_amount = parseFloat(data.course_amount).toLocaleString('en-US', {style: 'currency',currency: 'NGN',});
                        
                        $("#course_title").html(data.course_title);
                        $("#course_code").html(data.course_code);
                        $("#course_amount").html(c_amount);
                        $("#kt_ecommerce_edit_order_submit").attr("onclick","enrolCourse('"+data.course_code+"')");
                    } else {
                        console.log("No Data");
                        blockUI.release();
                    }
                } catch (e) {
                    console.error(e.stack);
                    blockUI.release();
                }
            },
            // "error": loadingerr
        });
    } else {
        console.log("No data");
        blockUI.release();
    } 
}


</script>